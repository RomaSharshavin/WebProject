{% extends 'main/base.html' %}
{% load static %}
{% load compress %}

{% block title %}
О Компании
{% endblock %}

{% block breadcrumb %}
{% endblock %}

{% block links %}
{% compress css %}
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap');

    </style>
    <link rel="stylesheet" href="{% static 'css/stylesAbout.css' %}">
{% endcompress %}
{% endblock %}

{% block content %}
    <h5 class="title-text">О компании</h5>

    <div class="about-container">
        <p>ООО "Ал-Тек" является официальным представителем финской компании Tammermatic
            и поставляет, устанавливает и обслуживает автоматические мойки для легкового,
            грузового, пассажирского и железнодорожного транспорта. Поддержать моечное
            оборудование в отличном состоянии поможет наша сервисная служба.
        </p>
    </div>

    <div class="scroll-container" id="scroll-container">
        <div class="scroll-content" id="scroll-content">
        </div>
    </div>

    {% block scripts %}
    {% compress js %}
        <script>
            const scrollContent = document.getElementById('scroll-content');
            const scrollContainer = document.getElementById('scroll-container');
            let isDragging = false; // Флаг, который отслеживает, перетаскивает ли пользователь
            let startX; // Начальная позиция X при нажатии
            let scrollLeft; // Текущее положение карусели по оси X

            // Список компаний
            const companies = [
                { img: '{% static "images/logo/rzd_dr_st_pos_rgb.webp" %}' },
                { img: '{% static "images/logo/vodo.webp" %}' },
                { img: '{% static "images/logo/mosinj.webp" %}' },
                { img: '{% static "images/logo/peter_metro.webp" %}' },
                { img: '{% static "images/logo/moscow_metro.webp" %}' },
                { img: '{% static "images/logo/aksel.webp" %}' },
                { img: '{% static "images/logo/Logo_statoil.webp" %}' },
                { img: '{% static "images/logo/sever.webp" %}' },
                { img: '{% static "images/logo/neste.webp" %}' },
                { img: '{% static "images/logo/ilim.webp" %}' }
            ];

            // Функция для добавления компаний в прокрутку
            function addCompanies() {
                companies.forEach(company => {
                    const item = document.createElement('div');
                    item.className = 'scroll-item';
                    item.innerHTML = `<img src="${company.img}" alt="company logo">`;
                    scrollContent.appendChild(item);
                });
            }

            // Добавляем компании
            addCompanies();

            // Дублируем элементы для бесшовной прокрутки
            function duplicateItems() {
                const items = Array.from(scrollContent.children);
                items.forEach(item => {
                    const clone = item.cloneNode(true);
                    scrollContent.appendChild(clone);
                });
            }

            duplicateItems();

            const totalWidth = scrollContent.scrollWidth;
            const scrollDuration = totalWidth / 120;  // Скорость прокрутки

            // Анимация прокрутки
            document.styleSheets[0].insertRule(`
                @keyframes scroll {
                    0% {
                        transform: translateX(0);
                    }
                    100% {
                        transform: translateX(-${totalWidth / 2}px);
                    }
                }
            `, 0);

            // Запуск анимации
            scrollContent.style.animation = `scroll ${scrollDuration}s linear infinite`;
        </script>
    {% endcompress %}
    {% endblock %}
{% endblock %}