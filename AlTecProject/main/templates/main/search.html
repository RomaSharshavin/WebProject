{% extends 'main/base.html' %}
{% load static %}

{% block title %}
Результаты поиска
{% endblock %}

{% block content %}
<h1>Результаты поиска</h1>

{% if news_results or service_results or faq_results or html_results %}
    <p>По запросу <strong>"{{ query }}"</strong> найдены следующие результаты:</p>

    <ul>
        {% for item in news_results %}
            <li>
                <a href="#"><strong>{{ item.title }}</strong></a><br>
                <p>{{ item.text|truncatechars:150|safe }}</p>
            </li>
        {% endfor %}

        {% for item in service_results %}
            <li>
                <a href="#"><strong>{{ item.prod_name }}</strong></a><br>
                <p>{{ item.description|truncatechars:150|safe }}</p>
            </li>
        {% endfor %}

        {% for item in faq_results %}
            <li>
                <strong>Вопрос:</strong> {{ item.question }}<br>
                <strong>Ответ:</strong> {{ item.answer|truncatechars:150|safe }}
            </li>
        {% endfor %}

        {% for result in html_results %}
            <li>
                <a href="{{ result.url }}"><strong>{{ result.page_title }}</strong></a>
                <p>
                    {% for match in result.matches %}
                        ...{{ match|safe }}...
                    {% endfor %}
                </p>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>По запросу <strong>"{{ query }}"</strong> ничего не найдено.</p>
{% endif %}

{% block scripts %}

{% endblock %}
{% endblock %}
